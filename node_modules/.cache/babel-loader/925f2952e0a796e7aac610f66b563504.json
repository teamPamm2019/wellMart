{"ast":null,"code":"var _jsxFileName = \"/Users/miguelgalarraga/googlemapreact/src/App.js\";\nimport React, { Component } from \"react\"; // import { Map,InfoWindow, Marker, GoogleApiWrapper } from \"google-maps-react\";\n\nimport API from \"./utils/API\";\nimport Form from \"./components/Form\"; // const mapStyles = {\n//   width: \"50%\",\n//   height: \"50%\"\n// };\n\nexport class MapContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      laT1: 0,\n      lnG1: 0,\n      zipcode: 0 // elements: [],\n      // contentString: [],\n      // activeMarker: {},\n      // selectedPlace: {},\n      // showingInfoWindow: false\n      // name: \"7\"\n\n    };\n\n    this.loadZipCode = () => {\n      API.getZipCode().then(res => this.setState({\n        location: res.data,\n        lat: \"\",\n        lng: \"\"\n      })).catch(err => console.log(err));\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        zipcode: event.target.value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      API.getZipCode(this.state.zipcode).then(res => {\n        if (res.data.status === \"error\") {\n          throw new Error(res.data.location);\n        }\n\n        this.setState({\n          laT1: res.data.lat,\n          lnG1: res.data.lng\n        });\n        console.log(this.state.laT1, this.state.lnG1);\n        this.secondfunc(this.state.laT1, this.state.lnG1);\n      }).catch(err => this.setState({\n        error: err.location\n      }));\n    };\n\n    this.secondfunc = () => {\n      API.getDoctor(this.state.laT1, this.state.lnG1).then(res => {\n        const results = Object.keys(res.data).map(i => res.data[i]);\n        var newStateArray = this.state.elements.slice();\n\n        for (var i = 0; i < results[1].length; i++) {\n          newStateArray.push({\n            lat: results[1][i].lat,\n            long: results[1][i].lon,\n            name: results[1][i].name,\n            street: results[1][i].visit_address.street,\n            city: results[1][i].visit_address.city,\n            state: results[1][i].visit_address.state,\n            zip: results[1][i].visit_address.zip,\n            phone: results[1][i].phones[0].number\n          });\n        }\n\n        this.setState({\n          elements: newStateArray\n        });\n        console.log(this.state.elements); // this.info(this.state.elements);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.loadZipCode();\n  }\n\n  // info = () => {\n  //   var newStateArray1 = this.state.contentString.slice();\n  //   for (var i = 0; i < this.state.elements.length; i++) {\n  //     newStateArray1.push(\n  //       '<div id=\"content\">' +\n  //         '<div id=\"siteNotice\">' +\n  //         \"</div>\" +\n  //         this.state.elements[i].name +\n  //         \"<div\" +\n  //         this.state.elements[i].street +\n  //         \"</div>\" +\n  //         \"<div>\" +\n  //         this.state.elements[i].city +\n  //         \",\" +\n  //         \" \" +\n  //         this.state.elements[i].state +\n  //         \",\" +\n  //         \" \" +\n  //         this.state.elements[i].zip +\n  //         \"</div>\" +\n  //         \"<div>\" +\n  //         \"phone:\" +\n  //         this.state.elements[i].phone +\n  //         \"</div>\"\n  //     );\n  //   }\n  //   this.setState({ contentString: newStateArray1 });\n  //   console.log(this.state.contentString);\n  // };\n  // onMarkerClick = (props, marker) =>\n  //   this.setState({\n  //     activeMarker: marker,\n  //     selectedPlace: props,\n  //     showingInfoWindow: true\n  //   });\n  // onInfoWindowClose = () =>\n  //   this.setState({\n  //     activeMarker: null,\n  //     showingInfoWindow: false\n  //   });\n  // onMapClicked = () => {\n  //   if (this.state.showingInfoWindow)\n  //     this.setState({\n  //       activeMarker: null,\n  //       showingInfoWindow: false\n  //     });\n  // };\n  // displayMarkers = () => {\n  //   return this.state.elements.map((element, index) => {\n  //     return (\n  //       <Marker\n  //         key={index}\n  //         id={index}\n  //         position={{\n  //           lat: element.lat,\n  //           lng: element.long\n  //         }}\n  //         icon={{\n  //           url: \"https://img.icons8.com/emoji/48/000000/man-health-worker.png\"\n  //         }}\n  //         onClick={this.onMarkerClick}\n  //       >\n  //         <InfoWindow\n  //           marker={this.state.activeMarker}\n  //           onClose={this.onInfoWindowClose}\n  //           visible={this.state.showingInfoWindow}\n  //           setContent={this.state.contentString[1]}\n  //         >\n  //           <div>\n  //             <h4>{this.state.selectedPlace.name}</h4>\n  //           </div>\n  //         </InfoWindow>\n  //       </Marker>\n  //     );\n  //   });\n  // };\n  // displayInfoWindow = () => {\n  //   return this.state.elements.map((element, index) => {\n  //     return <InfoWindow key={index} id={index} position={{\n  //      lat: element.lat,\n  //      lng: element.long,\n  //    }}\n  //    icon={{url: \"https://img.icons8.com/emoji/48/000000/man-health-worker.png\"}}/>\n  //   });\n  // }\n  render() {\n    return React.createElement(Form, {\n      handleFormSubmit: this.handleFormSubmit,\n      handleInputChange: this.handleInputChange,\n      location: this.state.location,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }) // <Map\n    //   className=\"map\"\n    //   google={this.props.google}\n    //   onClick={this.onMapClicked}\n    //   zoom={14}\n    //   initialCenter={{ lat: 25.827848, lng: -80.316078 }}\n    //   style={mapStyles}\n    // >\n    //   {this.displayMarkers()}\n    // </Map>\n    ;\n  }\n\n} // export default GoogleApiWrapper({\n//   apiKey: \"AIzaSyCB4wg9-CH6VEhpkHAvW-FnldCeh4Hojm8\"\n// })(MapContainer);\n\nexport default MapContainer;","map":{"version":3,"sources":["/Users/miguelgalarraga/googlemapreact/src/App.js"],"names":["React","Component","API","Form","MapContainer","state","laT1","lnG1","zipcode","loadZipCode","getZipCode","then","res","setState","location","data","lat","lng","catch","err","console","log","handleInputChange","event","target","value","handleFormSubmit","preventDefault","status","Error","secondfunc","error","getDoctor","results","Object","keys","map","i","newStateArray","elements","slice","length","push","long","lon","name","street","visit_address","city","zip","phone","phones","number","componentDidMount","render"],"mappings":"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,CAAP,CAAWI,CAAX,EAAcU,aAAd,CAA4BE,GAPhB;AAQjBC,YAAAA,KAAK,EAAEjB,OAAO,CAAC,CAAD,CAAP,CAAWI,CAAX,EAAcc,MAAd,CAAqB,CAArB,EAAwBC;AARd,WAAnB;AAUD;;AACD,aAAKvC,QAAL,CAAc;AAAE0B,UAAAA,QAAQ,EAAED;AAAZ,SAAd;AACAlB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWkC,QAAvB,EAhBW,CAiBX;AACD,OAnBH;AAoBD,KAlEyC;AAAA;;AAa1Cc,EAAAA,iBAAiB,GAAG;AAClB,SAAK5C,WAAL;AACD;;AAqDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA6C,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,IAAD;AACA,MAAA,gBAAgB,EAAE,KAAK5B,gBADvB;AAEA,MAAA,iBAAiB,EAAE,KAAKJ,iBAFxB;AAGA,MAAA,QAAQ,EAAE,KAAKjB,KAAL,CAAWS,QAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAME;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfF;AAiBD;;AAjLyC,C,CAoL5C;AACA;AACA;;AAEA,eAAeV,YAAf","sourcesContent":["import React, { Component } from \"react\";\n// import { Map,InfoWindow, Marker, GoogleApiWrapper } from \"google-maps-react\";\nimport API from \"./utils/API\";\nimport Form from \"./components/Form\";\n\n// const mapStyles = {\n//   width: \"50%\",\n//   height: \"50%\"\n// };\n\nexport class MapContainer extends Component {\n  state = {\n    laT1: 0,\n    lnG1: 0,\n    zipcode: 0,\n    // elements: [],\n    // contentString: [],\n    // activeMarker: {},\n    // selectedPlace: {},\n    // showingInfoWindow: false\n    // name: \"7\"\n  };\n\n  componentDidMount() {\n    this.loadZipCode();\n  }\n\n  loadZipCode = () => {\n    API.getZipCode()\n      .then(res => this.setState({location:res.data, lat:\"\", lng:\"\"}))\n      .catch(err => console.log(err));\n  }\n\n  handleInputChange = event=> {\n    this.setState({ zipcode: event.target.value });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    API.getZipCode(this.state.zipcode)\n      .then(res => {\n        if (res.data.status === \"error\") {\n          throw new Error(res.data.location);\n        }\n        this.setState({ laT1: res.data.lat, lnG1: res.data.lng });\n        console.log(this.state.laT1, this.state.lnG1);\n        this.secondfunc(this.state.laT1, this.state.lnG1);\n      })\n      .catch(err => this.setState({ error: err.location}));\n  };\n\n\n\n\n\n  secondfunc = () => {\n    API.getDoctor(this.state.laT1, this.state.lnG1)\n      .then(res => {\n        const results = Object.keys(res.data).map(i => res.data[i]);\n        var newStateArray = this.state.elements.slice();\n        for (var i = 0; i < results[1].length; i++) {\n          newStateArray.push({\n            lat: results[1][i].lat,\n            long: results[1][i].lon,\n            name: results[1][i].name,\n            street: results[1][i].visit_address.street,\n            city: results[1][i].visit_address.city,\n            state: results[1][i].visit_address.state,\n            zip: results[1][i].visit_address.zip,\n            phone: results[1][i].phones[0].number\n          });\n        }\n        this.setState({ elements: newStateArray });\n        console.log(this.state.elements);\n        // this.info(this.state.elements);\n      });\n  };\n\n  // info = () => {\n  //   var newStateArray1 = this.state.contentString.slice();\n  //   for (var i = 0; i < this.state.elements.length; i++) {\n  //     newStateArray1.push(\n  //       '<div id=\"content\">' +\n  //         '<div id=\"siteNotice\">' +\n  //         \"</div>\" +\n  //         this.state.elements[i].name +\n  //         \"<div\" +\n  //         this.state.elements[i].street +\n  //         \"</div>\" +\n  //         \"<div>\" +\n  //         this.state.elements[i].city +\n  //         \",\" +\n  //         \" \" +\n  //         this.state.elements[i].state +\n  //         \",\" +\n  //         \" \" +\n  //         this.state.elements[i].zip +\n  //         \"</div>\" +\n  //         \"<div>\" +\n  //         \"phone:\" +\n  //         this.state.elements[i].phone +\n  //         \"</div>\"\n  //     );\n  //   }\n  //   this.setState({ contentString: newStateArray1 });\n  //   console.log(this.state.contentString);\n  // };\n\n  // onMarkerClick = (props, marker) =>\n  //   this.setState({\n  //     activeMarker: marker,\n  //     selectedPlace: props,\n  //     showingInfoWindow: true\n  //   });\n\n  // onInfoWindowClose = () =>\n  //   this.setState({\n  //     activeMarker: null,\n  //     showingInfoWindow: false\n  //   });\n\n  // onMapClicked = () => {\n  //   if (this.state.showingInfoWindow)\n  //     this.setState({\n  //       activeMarker: null,\n  //       showingInfoWindow: false\n  //     });\n  // };\n\n  // displayMarkers = () => {\n  //   return this.state.elements.map((element, index) => {\n  //     return (\n  //       <Marker\n  //         key={index}\n  //         id={index}\n  //         position={{\n  //           lat: element.lat,\n  //           lng: element.long\n  //         }}\n  //         icon={{\n  //           url: \"https://img.icons8.com/emoji/48/000000/man-health-worker.png\"\n  //         }}\n  //         onClick={this.onMarkerClick}\n  //       >\n  //         <InfoWindow\n  //           marker={this.state.activeMarker}\n  //           onClose={this.onInfoWindowClose}\n  //           visible={this.state.showingInfoWindow}\n  //           setContent={this.state.contentString[1]}\n  //         >\n  //           <div>\n  //             <h4>{this.state.selectedPlace.name}</h4>\n  //           </div>\n  //         </InfoWindow>\n  //       </Marker>\n  //     );\n  //   });\n  // };\n\n  // displayInfoWindow = () => {\n  //   return this.state.elements.map((element, index) => {\n  //     return <InfoWindow key={index} id={index} position={{\n  //      lat: element.lat,\n  //      lng: element.long,\n  //    }}\n  //    icon={{url: \"https://img.icons8.com/emoji/48/000000/man-health-worker.png\"}}/>\n  //   });\n  // }\n\n  render() {\n    return (\n      <Form\n      handleFormSubmit={this.handleFormSubmit}\n      handleInputChange={this.handleInputChange}\n      location={this.state.location}\n    />\n      // <Map\n      //   className=\"map\"\n      //   google={this.props.google}\n      //   onClick={this.onMapClicked}\n      //   zoom={14}\n      //   initialCenter={{ lat: 25.827848, lng: -80.316078 }}\n      //   style={mapStyles}\n      // >\n      //   {this.displayMarkers()}\n      // </Map>\n    );\n  }\n}\n\n// export default GoogleApiWrapper({\n//   apiKey: \"AIzaSyCB4wg9-CH6VEhpkHAvW-FnldCeh4Hojm8\"\n// })(MapContainer);\n\nexport default MapContainer;\n"]},"metadata":{},"sourceType":"module"}