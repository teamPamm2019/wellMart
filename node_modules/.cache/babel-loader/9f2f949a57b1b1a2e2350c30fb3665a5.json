{"ast":null,"code":"var _jsxFileName = \"/Users/miguelfernandez/Desktop/codingBootcamp/wellMart/src/pages/SavedArticles.js\";\nimport React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport SavedArticleCard from \"../components/SavedArticleCard\";\nimport DeleteArticleBtn from \"../components/Buttons/DeleteArticleBtn\";\nimport AddNoteBtn from \"../components/Buttons/AddNoteBtn\";\nimport SaveNoteBtn from \"../components/Buttons/SaveNoteBtn\";\nimport Note from \"../components/Notes/Note\";\n\nclass SavedArticles extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      articles: [],\n      title: \"\",\n      summary: \"\",\n      link: \"\",\n      id: \"\",\n      show: false,\n      note: \"\"\n    };\n    this.styles = {\n      head: {\n        fontFamily: \"'IM Fell DW Pica SC', serif\"\n      }\n    };\n\n    this.showNote = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.hideNote = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.loadArticles = () => {\n      API.getAllArticles().then(res => {\n        this.setState({\n          articles: res.data,\n          title: \"\",\n          summary: \"\",\n          link: \"\",\n          id: \"\"\n        }); // console.log(this.state.articles);\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteArt = id => {\n      console.log(id);\n      API.deleteArticle(id).then(res => this.loadArticles()).catch(err => console.log(err));\n    };\n\n    this.note = id => {\n      API.getArticle(id) //TODO set state of Note using res.\n      .then(res => {\n        this.setState({\n          note: res.data,\n          title: \"\",\n          body: \"\"\n        });\n        console.log(this.state.articles);\n      }).then(this.showNote()).catch(err => console.log(err));\n    };\n  }\n\n  componentDidMount() {\n    this.loadArticles();\n  }\n\n  saveNote(noteData) {\n    console.log(noteData); //! 404 ERROR\n\n    API.updateNote(noteData).then(this.hideNote()) // .then(res => this.loadArticles())\n    .catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: this.styles.head,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Saved Articles\"), this.state.articles.length ? React.createElement(\"div\", {\n      className: \"articleCards\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.state.articles.map(article => React.createElement(SavedArticleCard, Object.assign({\n      key: article.title\n    }, article, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(DeleteArticleBtn, {\n      style: this.styles.buttons,\n      onClick: () => this.deleteArt(article._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(AddNoteBtn, {\n      onClick: () => this.note(article._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Note, Object.assign({}, article, {\n      show: this.state.show,\n      handleClose: this.hideNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(SaveNoteBtn, Object.assign({}, article, {\n      onClick: () => {\n        let noteTitle = document.getElementById(\"titleInput\").value;\n        let noteBody = document.getElementById(\"bodyInput\").value; //! INPUTS NOT PULLING FROM NOTES\n\n        let newNote = {\n          id: article._id,\n          title: noteTitle,\n          body: noteBody\n        };\n        this.saveNote(newNote);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })))))) : React.createElement(\"h4\", {\n      style: this.styles.head,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"No Results to Display\"));\n  }\n\n}\n\nexport default SavedArticles;","map":{"version":3,"sources":["/Users/miguelfernandez/Desktop/codingBootcamp/wellMart/src/pages/SavedArticles.js"],"names":["React","Component","API","SavedArticleCard","DeleteArticleBtn","AddNoteBtn","SaveNoteBtn","Note","SavedArticles","state","articles","title","summary","link","id","show","note","styles","head","fontFamily","showNote","setState","hideNote","loadArticles","getAllArticles","then","res","data","catch","err","console","log","deleteArt","deleteArticle","getArticle","body","componentDidMount","saveNote","noteData","updateNote","render","length","map","article","buttons","_id","noteTitle","document","getElementById","value","noteBody","newNote"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport SavedArticleCard from \"../components/SavedArticleCard\";\nimport DeleteArticleBtn from \"../components/Buttons/DeleteArticleBtn\";\nimport AddNoteBtn from \"../components/Buttons/AddNoteBtn\";\nimport SaveNoteBtn from \"../components/Buttons/SaveNoteBtn\";\nimport Note from \"../components/Notes/Note\";\n\nclass SavedArticles extends Component {\n  state = {\n    articles: [],\n    title: \"\",\n    summary: \"\",\n    link: \"\",\n    id: \"\",\n    show: false,\n    note: \"\"\n  };\n\n  styles = {\n    head: {\n      fontFamily: \"'IM Fell DW Pica SC', serif\"\n    }\n  };\n\n  showNote = () => {\n    this.setState({ show: true });\n  };\n\n  hideNote = () => {\n    this.setState({ show: false });\n  };\n\n  componentDidMount() {\n    this.loadArticles();\n  }\n\n  loadArticles = () => {\n    API.getAllArticles()\n      .then(res => {\n        this.setState({\n          articles: res.data,\n          title: \"\",\n          summary: \"\",\n          link: \"\",\n          id: \"\"\n        });\n        // console.log(this.state.articles);\n      })\n      .catch(err => console.log(err));\n  };\n\n  deleteArt = id => {\n    console.log(id);\n    API.deleteArticle(id)\n      .then(res => this.loadArticles())\n      .catch(err => console.log(err));\n  };\n\n  note = id => {\n    API.getArticle(id)\n      //TODO set state of Note using res.\n      .then(res => {\n        this.setState({ note: res.data, title: \"\", body: \"\" });\n        console.log(this.state.articles);\n      })\n      .then(this.showNote())\n      .catch(err => console.log(err));\n  };\n\n  saveNote(noteData) {\n    console.log(noteData);\n    //! 404 ERROR\n    API.updateNote(noteData)\n      .then(this.hideNote())\n      // .then(res => this.loadArticles())\n      .catch(err => console.log(err));\n  }\n\n  render() {\n    return (\n      <div>\n        <h2 style={this.styles.head}>Saved Articles</h2>\n        {this.state.articles.length ? (\n          <div className=\"articleCards\">\n            {this.state.articles.map(article => (\n              <SavedArticleCard key={article.title} {...article}>\n                <DeleteArticleBtn\n                  style={this.styles.buttons}\n                  onClick={() => this.deleteArt(article._id)}\n                />\n                <AddNoteBtn onClick={() => this.note(article._id)} />\n                <Note\n                  {...article}\n                  show={this.state.show}\n                  handleClose={this.hideNote}\n                >\n                  <SaveNoteBtn\n                    {...article}\n                    onClick={() => {\n                      let noteTitle = document.getElementById(\"titleInput\")\n                        .value;\n                      let noteBody = document.getElementById(\"bodyInput\").value;\n                      //! INPUTS NOT PULLING FROM NOTES\n                      let newNote = {\n                        id: article._id,\n                        title: noteTitle,\n                        body: noteBody\n                      };\n                      this.saveNote(newNote);\n                    }}\n                  />\n                </Note>\n              </SavedArticleCard>\n            ))}\n          </div>\n        ) : (\n          <h4 style={this.styles.head}>No Results to Display</h4>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default SavedArticles;\n"]},"metadata":{},"sourceType":"module"}